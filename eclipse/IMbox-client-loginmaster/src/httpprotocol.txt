token = 20140423 + accountname
用AES加密 key用MACaddress


errorcode:
-2: http failure
-1: connection failure
0: no problem
1: authentication failure
2: server side error (need to be more specific in future)
3: block relate error (block not found)
4: server exception error (need to check server status & log)
5: file relate error
6: deletefile fail
19: account is already registered
20: exception failure (see exception log) 


JSON:
/createaccount
    POST {'account'|'password'|'MAC'}
    server return {'token' | 'succ' | 'errorcode'}


/login
    POST {'account'  | 'password' | 'MAC' }
    server return {'token' | 'succ' | 'errorcode'}

/getserversnapshot 
    GET
    server return {'snapshot':[blocknames]}
    
/getserverlock
    POST {'token'|'MAC'}
    server return {'succ' | 'errorcode'}

/releaseserverlock
    POST {'token'|'MAC'}
    server return {'succ'| 'errorcode'}
    

/getfile
    POST {'token'|'MAC'|'blockname'|'filename'| 'seq'}
    server return {'succ'|'data'|'errorcode'}
    
/postfile
    POST {'token' |'MAC'| 'blockdata'|'seq'}
    server return {'succ'| 'errorcode'}
    
/generateURL
    POST {'account'|'filename'}
    server return {'URL'|'succ'| 'errorcode'}
    
/generateFile
    POST {'account'|'filename'}
    server return {'data'|'succ'| 'errorcode'}
        
'' is tag name
{} is json object
[] is json array
undefined POST/GET is free for use(better blocked?)




//rework

/login
    POST {'account'  | 'password' | 'MAC' }
    server return {'token' | 'succ' | 'errorcode'}

/syncrequest
   POST {'token','MAC'}
   server return {'filelist':[array of record pair]| 'succ'| 'errorcode'}    //self define datastructure that contains record pair ['filename', 'filemd5']

/getblockrecord
    POST {'token','MAC','filename'}
    server return {'blocklist' : [array of BlockRec] | 'succ'| 'errorcode'}     // record of that file, contains 'block md5' and it is stored in order
    
/getblock
    POST {'token'|'MAC'|'blockname'| 'seq'}
    server return {'succ'|'data'|'errorcode'}

/postblock
    POST {'token' |'MAC'| 'blockdata'|'filename'|'seq'}
    server return {'succ'| 'errorcode'}

/generateURL
    POST {'token' | 'MAC'|'filename'}
    server return {'URL'|'succ'| 'errorcode'}

/generateFile           <- this is the response action of URL given in generateURL
    POST {'token' | 'MAC' | 'account'|'filename'}
    server return {'data'|'succ'| 'errorcode'}
/networkcheck
    GET
    server return "success"
== nothing to integrate
/getserverlock
    POST {'token'|'MAC'}
    server return {'succ' | 'errorcode'}

/releaseserverlock
    POST {'token'|'MAC'}
    server return {'succ'| 'errorcode'}
    


//NEW FUNCTION
/newfile
	POST {'token'|'MAC'|'filename' | 'MD5'}
	server return {'succ' | 'errorcode'}
	
/deletefile
	POST {'token' | 'MAC' | 'filename'}
	server return {'succ' | 'errorcode'}
	
/modifyfile
	POST {'token'|'MAC'|'filename' | 'newMD5'}
	server return {'succ' | 'errorcode'}